<!DOCTYPE html>
<html lang="en">
  <head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script>
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);    
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled :: AeroGear Mobile Services</title>
    <link rel="canonical" href="https://www.aerogear.org/push/latest/aerogear-push-ios/app-id-ssl-certificate-apns.html">
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.aerogear.org">AeroGear Mobile Services</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/">Documentation Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">AeroGear SDK</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/android-sdk/latest/index.html">Android</a>
            <a class="navbar-item" href="/ios/latest/index.html">iOS</a>
            <a class="navbar-item" href="/cordova/latest/index.html">Cordova</a>
            <a class="navbar-item" href="/xamarin-sdk/latest/index.html">Xamarin</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Mobile Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/custom/latest/index.html">Custom Runtime Connector</a>
            <a class="navbar-item" href="/push/latest/index.html">Unified Push</a>
            <a class="navbar-item" href="/keycloak/latest/index.html">Auth</a>       
            <a class="navbar-item" href="/metrics/latest/index.html">Metrics</a>
            <a class="navbar-item" href="/build/latest/index.html">CI/CD</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="push" data-version="latest">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AeroGear Push Mobile Service</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../client-registration/index.html">Client Registration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../push-message-format/index.html">Push Message Format</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../ups_userguide/overview.html">User&#8217;s Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/server-installation.html">Install the UnifiedPush Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/server-installation_properties.html">System Properties for the UnifiedPush Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/server-installation_advanced.html">Cluster and Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/admin-ui.html">Using the Admin UI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/ups-debugging.html">Debugging the UnifiedPush Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/integration.html">Integrating the UnifiedPush Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/migration.html">Database migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/next.html">Next steps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ups_userguide/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../aerogear-push-android/index.html">Android</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/android-app.html">android-app.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/google-setup.html">google-setup.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/guides.html">guides.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/push-notification.html">push-notification.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/register-device.html">register-device.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-android/troubleshooting.html">troubleshooting.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../aerogear-push-chrome/index.html">Chrome</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-chrome/chrome-app.html">chrome-app.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-chrome/google-setup.html">google-setup.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-chrome/push-notification.html">push-notification.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-chrome/register-device.html">register-device.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">iOS</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="app-id-ssl-certificate-apns.html">app-id-ssl-certificate-apns.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="iOS-app.html">iOS-app.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="provisioning-profiles.html">provisioning-profiles.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="send-push.html">send-push.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshooting.html">troubleshooting.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="unified-push-server.html">unified-push-server.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xcode-setup.html">xcode-setup.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../aerogear-push-js/index.html">JavaScript</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-js/send-push.html">send-push.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-js/simplepush-primer.html">simplepush-primer.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-js/simplepush-server.html">simplepush-server.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-js/unifiedpush-server.html">unifiedpush-server.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-js/web-app.html">web-app.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../aerogear-push-windows/index.html">Windows</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-windows/push-notification.html">push-notification.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-windows/register-device.html">register-device.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-windows/windows-app.html">windows-app.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../aerogear-push-windows/windows-setup.html">windows-setup.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">AeroGear Push Mobile Service</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">AeroGear</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../aerogear/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Android SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../android-sdk/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear CI/CD Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../build/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Cordova SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../cordova/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Custom Runtime Connector Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../custom/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear iOS SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ios/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Keycloak Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../keycloak/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Metrics Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../metrics/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">AeroGear Push Mobile Service</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Xamarin SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../xamarin-sdk/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../aerogear/latest/index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">AeroGear Push Mobile Service</a></li>
    <li class="crumb"><a href="index.html">iOS</a></li>
    <li class="crumb"><a href="app-id-ssl-certificate-apns.html">app-id-ssl-certificate-apns.adoc</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/pwright/repos/aerogear/docs/unifiedpush-apb/docs/modules/aerogear-push-ios/pages/app-id-ssl-certificate-apns.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<div class="sect1">
<h2 id="app-id-ssl-certificate-apns"><a class="anchor" href="#app-id-ssl-certificate-apns"></a>Apple related setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you are able to use Push Notifications on your iOS Application, a few steps are required. This section of the tutorial gives a quick overview of what is needed!</p>
</div>
<div class="sect2">
<h3 id="certificate-signing-request"><a class="anchor" href="#certificate-signing-request"></a>Certificate Signing Request</h3>
<div class="paragraph">
<p>First you need to submit a request for a new digital certificate, which is based on a public/private key. The Certificate itself is acting as the public key, and when you request it, a private key is added to your <strong>KeyChain</strong> tool. The Cerficate will be used later on, to request an SSL certificate for the <em>Apple Push Network Service</em>, which will allow the <em>AeroGear Push Server</em> to send notification messages to it. Now the actual CSR (Certificate Signing Request) is done using <strong>KeyChain Access</strong> tool found in <strong>Applications &gt; Utilities</strong> folder on your Mac.  Once opened, in the <strong>KeyChain Access</strong> menu, choose <strong>Certificate Assistant &gt; Request a Certificate from a Certificate Authority</strong>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/SubmitCSR.png" alt="Submit Signing Request"></span></p>
</div>
<div class="paragraph">
<p>Make sure that you have choosen to store the CSR <em>on file</em>, so we can upload it later in the provisioning portal when requesting the actual SSL cert. Going back to <strong>KeyChain Access</strong> you now see a new <strong>private</strong> key:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/KeyChain_prtKey.png" alt="private"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="apple-app-id-and-ssl-certificate-for-apns"><a class="anchor" href="#apple-app-id-and-ssl-certificate-for-apns"></a>Apple App ID and SSL certificate for APNs</h3>
<div class="paragraph">
<p>Now that the CSR is generated, go to the <a href="https://developer.apple.com/account/overview.action">Provisioning Portal</a> and log in with your Apple developer account. Now, click on the <strong>Identifiers</strong> link in order to create a new App ID (use the <strong>PLUS</strong> Icon on the right). In the formular give the <strong>App ID</strong> a <em>descriptive</em> name, like <strong>My first AeroGear Push App</strong>. Double check that the <strong>Push Notifications</strong> checkbox is <em>selected</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/AppID_1.png" alt="Give the App ID a name"></span></p>
</div>
<div class="paragraph">
<p>Later in the same page you are asked for an <strong>Explicit App ID</strong>, since the generic <strong>Wildcard App ID</strong> does not work with Push Notifications. In the <em>Bundle ID</em> field enter <strong>YOUR</strong> bundle ID. This is similar to Java packages. In this example we choose <em>org.aerogear.PushTest</em>, however you <strong>must</strong> use your own ID. <strong>NOTE:</strong> The <em>Bundle ID</em> has to match the one from the actual iOS application that you are building later in this guide.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/AppID_2.png" alt="Apply the Bundle ID from our App"></span></p>
</div>
<div class="paragraph">
<p>In the next screen confirm your new App ID, and double check that the <em>Push Notifications</em> option is <em>enabled</em>. Afterwards click the <em>Submit</em> button! Now you are <em>Done</em>. In the next screen, click on on the <strong>newly created</strong> App ID. After clicking on it, the following screen appears:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/AppID_3.png" alt="Overview"></span></p>
</div>
<div class="paragraph">
<p>Click the Edit button and scroll down to the Push Notifications section. Here we are asked to generate a <em>Development</em> and a <em>Production</em> certificate that will be used by the UnifiedPush server when contacting the Apple Push Notification service to send messages. If you plan to distribute your app in the App Store, you are required to generate a Production certificate. In this guide we will generate both Certificates and register them with the UnifiedPush server.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start first by generating the <em>Development Certificate</em>. Click the <em>Create Certificate&#8230;&#8203;</em> button on the <em>Development SSL Certificate</em> section:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/SSLCert.png" alt="SSL Certificate"></span></p>
</div>
<div class="paragraph">
<p>Inside of the next Dialog you are asked to upload the <em>Certificate Signing Request</em> that we created earlier. Now perform an upload of the <strong>CSR</strong> and click the <em>Generate</em> button:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/SSLCert_upload.png" alt="CSR upload"></span></p>
</div>
<div class="paragraph">
<p>Finishing the upload dialog, you are coming back to the overview of the <strong>App ID</strong>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/AppID_3.png" alt="Overview"></span></p>
</div>
<div class="paragraph">
<p><strong>Now</strong> click the <em>Edit</em> button again and scroll down to the Push Notifications section. Notice that the <em>Development SSL Certificate</em> section is filled with the required details.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/SSLCertProd.png" alt="SSL Certificate Production"></span></p>
</div>
<div class="paragraph">
<p>Time now to create the <em>Production</em> certificate by following the same steps as previously, this time by clicking the 'Create Certificate' button on the <em>Production SSL Certificate</em> section. Once you are done, you are back to the overview of the <strong>App ID</strong>.</p>
</div>
<div class="paragraph">
<p>Click the <em>Edit</em> button again and scroll down to the Push Notifications section. Now that we have both Certificates generated, time to download them locally to your computer.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/SSLCert_downloadProd.png" alt="SSL Certificate download"></span></p>
</div>
<div class="paragraph">
<p>The <em>Development SSL Certificate</em> file is being downloaded as <em>aps_development.cer</em>. Double click on it and it will show up in the <strong>KeyChain Access</strong> tool:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/PushCert.png" alt="APNs certificate"></span></p>
</div>
<div class="paragraph">
<p>Now you have to export this certificate/private key pair to the <strong>.p12</strong> (<em>Personal Information Exchange</em>). This file will be uploaded later on to the AeroGear Push Server enabling it to authorize itself for your <strong>development</strong> application on <em>Apple Push Network Service</em> and send messages to it.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/PushCert_Export.png" alt="Export to .p12 format"></span></p>
</div>
<div class="paragraph">
<p>When exporting the file, as your private key, you need to assign a passphrase for it. Make note of it, because later when uploading it to the <em>AeroGear Push Server</em> you will need both the exported file and the passphrase.</p>
</div>
<div class="paragraph">
<p>Follow the same steps to download the <em>Production SSL Certificate</em>, the file is being downloaded as <em>aps_production.cer</em>. Double click to add in your <strong>KeyChain Access</strong> tool:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/img/PushCertProd.png" alt="APNs Distribution certificate"></span></p>
</div>
<div class="paragraph">
<p>Now export it too as a <strong>.p12</strong> (<em>Personal Information Exchange</em>). This file will be uploaded later on to the AeroGear Push Server enabling it to authorize itself for your <strong>production</strong> application on <em>Apple Push Network Service</em> and send messages to it. When exporting the file, as your private key, you need to assing a passphrase for it (this can be same or different with your passphrase for your development certificate).</p>
</div>
<div class="sect3">
<h4 id="provisioning-profile"><a class="anchor" href="#provisioning-profile"></a>Provisioning Profile</h4>
<div class="paragraph">
<p>Next, you need to create an <a href="#provisioning-profiles">Apple Provisioning Profile</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This is a preview of the https://docs.aerogear.org website.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
