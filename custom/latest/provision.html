<!DOCTYPE html>
<html lang="en">
  <head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script>
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);    
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Runtime Connector :: AeroGear Mobile Services</title>
    <link rel="canonical" href="https://www.aerogear.org/custom/latest/provision.html">
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.aerogear.org">AeroGear Mobile Services</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/">Documentation Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Mobile Platform</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/android-sdk/latest/index.html">Android</a>
            <a class="navbar-item" href="/ios/latest/index.html">iOS</a>
            <a class="navbar-item" href="/cordova/latest/index.html">Cordova</a>
            <a class="navbar-item" href="/xamarin-sdk/latest/index.html">Xamarin</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Mobile Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/custom/latest/index.html">Custom Runtime Connector</a>
            <a class="navbar-item" href="/push/latest/index.html">Unified Push</a>
            <a class="navbar-item" href="/keycloak/latest/index.html">Auth</a>       
            <a class="navbar-item" href="/metrics/latest/index.html">Metrics</a>
            <a class="navbar-item" href="/build/latest/index.html">CI/CD</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="custom" data-version="latest">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">AeroGear Custom Runtime Connector Service</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Overview</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="provision.html">Provisioning</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">AeroGear Custom Runtime Connector Service</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">AeroGear</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../aerogear/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Android SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../android-sdk/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear CI/CD Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../build/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Cordova SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cordova/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">AeroGear Custom Runtime Connector Service</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear iOS SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ios/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Keycloak Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../keycloak/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Metrics Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../metrics/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Push Mobile Service</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../push/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">AeroGear Xamarin SDK</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../xamarin-sdk/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../aerogear/latest/index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">AeroGear Custom Runtime Connector Service</a></li>
    <li class="crumb"><a href="index.html">Overview</a></li>
    <li class="crumb"><a href="provision.html">Provisioning</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/pwright/repos/aerogear/docs/custom-runtime-connector-apb/docs/modules/ROOT/pages/provision.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Custom Runtime Connector</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Custom Runtime Connector (CRC) allows an existing custom service to be exposed to a mobile application.
This creates a <a href="https://docs.openshift.com/enterprise/3.2/dev_guide/configmaps.html">config map</a>, which contains the service&#8217;s configuration which is then exposed to the mobile application.</p>
</div>
<div class="paragraph">
<p>This can be seen in the project&#8217;s resources within the Openshift web console or by running the following command using the mobile CLI.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc plugin mobile get clientconfig &lt;clientID&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where the <em>clientID</em> (&lt;clientName&gt;-&lt;clientType&gt;) parameter is specified by the user.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>clientID</em> value can be retrieved by running the <code>oc plugin mobile get clients</code> command, which
returns a list of mobile clients available and their details within the specified namespace.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There is a possibility to represent the output in json format by using the <strong>-o</strong> flag.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>oc plugin mobile get clientconfig &lt;clientID&gt; -- -o json</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When the mobile CLI is used as an oc plugin, the namespace does not have to be specified as this
takes the current namespace selected. However, when using the mobile CLI as is, the namespace must be specified
by using the <strong>--namespace</strong> flag.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="https://add/link/to/video">this video</a> which demonstrates how to use the Custom Runtime Connector.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provision-custom-runtime-connector-service"><a class="anchor" href="#provision-custom-runtime-connector-service"></a>Provision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Go to the OpenShift web console. Open the <strong>Mobile</strong> Tab &gt; <strong>Services</strong> from the service catalog and select the <strong>Custom Runtime Connector</strong> service.</p>
</div>
<div class="paragraph">
<p>This should open the Custom Runtime Connector service provision wizard.
Press the <strong>Next</strong> button and provide the following configuration parameters for the service.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Service Name (required)</strong>: Service name to be exposed to the mobile application.</p>
</li>
<li>
<p><strong>Service URL (required)</strong>: Service url where the service is running.</p>
</li>
<li>
<p><strong>Service JSON Configuration</strong>: Service configuration in a valid JSON format.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After the service has been provisioned, you should then be able to see the service&#8217;s secret and config map created during provision
within the project&#8217;s resources.</p>
</div>
<div class="paragraph">
<p>To edit the service configuration, go to <strong>Resources</strong> &#8594; <strong>Config Maps</strong> and select the service&#8217;s config map.
Press the <strong>[Actions]</strong> button in the upper right corner and choose <strong>[Edit]</strong> or <strong>[Edit YAML]</strong>. This
allows you to edit the service&#8217;s configuration directly which is then exposed to your mobile application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deprovision"><a class="anchor" href="#deprovision"></a>Deprovision</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to delete a provisioned Custom Runtime Connector service, select the service menu and click <strong>Delete</strong>. A notification should
appear that the service has now been <strong>Marked for Deletion</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Deprovisioning a Custom Runtime Connector service will delete the following resources:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>secrets</p>
</li>
<li>
<p>config maps</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When the deprovision finishes, the service&#8217;s secret and config map will be unavailable now.
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This is a preview of the https://docs.aerogear.org website.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
